(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3989],{3678:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>a});var r=t(7876),o=t(7328),i=t.n(o),d=t(4213),s=t(8419);function a(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"版本对比 - ".concat(d.Ix)}),(0,r.jsx)("meta",{name:"keywords",content:d.hN}),(0,r.jsx)("meta",{name:"description",content:d.f4}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsx)(s.A,{editorId:"md-contrast-zh",value:"下面仅列举不兼容的内容，兼容内容不作展示。\n\n## \uD83E\uDDD9\uD83C\uDFFC 从 5.x 升级到 6.x\n\n### \uD83D\uDC08 UMD\n\n为了跟进前端生态的发展，部分三方依赖自 6.x 开始已全面转向 ESM 模式，我们也不再继续提供 UMD 格式支持。\n\n这里提供了全局使用的新的参考： [\uD83E\uDD13 CDN 链接](https://imzbf.github.io/md-editor-rt/zh-CN/demo#%F0%9F%A4%93%20CDN%20%E9%93%BE%E6%8E%A5)\n\n### \uD83D\uDD16 Props\n\n#### \uD83E\uDDF7 insertLinkDirect\n\n移除，现在点击添加链接时不再弹出输入框\n\n#### \uD83C\uDFB1 mdHeadingId\n\n类型变更\n\n现在\n\n```ts\ntype MdHeadingId = (options: {\n  text: string;\n  level: number;\n  index: number;\n  currentToken?: Token;\n  nextToken?: Token;\n}) => string;\n```\n\n以前\n\n```ts\ntype MdHeadingId = (text: string, level: number, index: number) => string;\n```\n\n### \uD83D\uDCB4 Config\n\n新：\n\n```ts\nimport { config, type CodeMirrorExtension, type Themes } from 'md-editor-rt';\nimport { type KeyBinding } from '@codemirror/view';\n\nconfig({\n  codeMirrorExtensions(\n    extensions: Array<CodeMirrorExtension>,\n    options: {\n      editorId: string;\n      theme: Themes;\n      keyBindings: Array<KeyBinding>;\n    }\n  ): Array<CodeMirrorExtension> {\n    return extensions;\n  }\n});\n```\n\n```ts ::close\ninterface CodeMirrorExtension {\n  /**\n   * 仅用来提供开发者分别不同扩展的依据\n   */\n  type: string;\n  /**\n   * CodeMirror的扩展\n   */\n  extension: Extension | ((options: any) => Extension);\n  /**\n   * 包裹扩展的Compartment，只有部分扩展有，提供扩展更新的能力\n   */\n  compartment?: Compartment;\n  options?: any;\n}\n```\n\n!!! note\n\n现在你可以从 extensions[i].type 中准确的知道这个哪个扩展。\n\n!!!\n\n旧：\n\n```ts\nimport { config, type CodeMirrorExtension, type Themes } from 'md-editor-rt';\nimport { type KeyBinding } from '@codemirror/view';\n\nconfig({\n  codeMirrorExtensions(\n    theme: Themes,\n    extensions: Array<Extension>,\n    keyBindings: Array<KeyBinding>,\n    options: {\n      editorId: string;\n    }\n  ): Array<Extension> {\n    return extensions;\n  }\n});\n```\n\n## \uD83E\uDDD9\uD83C\uDFFC 从 4.x 升级到 5.x\n\n!!! warning\n\n现在必须使用 react >=18.0.0 的版本！！！\n\n!!!\n\n### \uD83D\uDD16 Props\n\n| 名称 | 说明 |\n| --- | --- |\n| editorId | 标记为过时，仍然可以使用，建议使用 id 替换。注意：仅`MdEditor`和`MdPreview`组件调整，其他的组件仍然使用`editorId`，标识这是编辑器的 id 而非本身的。 |\n| inputBoxWitdh | 拼写错误，修改为：inputBoxWidth 。 |\n| noIconfont | 移除，现使用 [lucide](https://lucide.dev/icons/) 开源图标库替换。 |\n| customIcon | 仍然支持自定义图标，但是更新了部分图标关键词，注意查阅 [CustomIcon](https://imzbf.github.io/md-editor-rt/zh-CN/api#%F0%9F%98%AC%20customIcon) 。 |\n\n### 事件\n\n| 名称                  | 说明                                    |\n| --------------------- | --------------------------------------- |\n| onInputBoxWitdhChange | 拼写错误，修改为：onInputBoxWidthChange |\n\n### \uD83E\uDEA4 内部扩展\n\n1. 移除默认的 XSS 扩展，现在导出扩展`XSSPlugin`，请自行添加，[使用示例](https://imzbf.github.io/md-editor-rt/zh-CN/demo#%F0%9F%94%92%20%E6%B7%BB%E5%8A%A0%20xss%20%E6%89%A9%E5%B1%95)。\n2. 移除 iconfont 相关的配置，详细的有：`iconfontType`、`editorExtensions.iconfont`、`editorExtensions.iconfontClass`、`editorExtensionsAttrs.iconfont`、`editorExtensionsAttrs.iconfontClass`。\n\n---\n\n## \uD83E\uDDD9\uD83C\uDFFC 从 3.x 升级到 4.x\n\n### \uD83C\uDFC4\uD83C\uDFFC 引用方式\n\n4.0 版本开始支持按需引用组件，不再默认导出编辑器。\n\n#### \uD83C\uDFC4\uD83C\uDFFC‍♂️ 全局引用\n\n```diff\n- <script src=\"https://unpkg.com/md-editor-rt@latest/lib/md-editor-rt.umd.js\"><\/script>\n+ <script src=\"https://unpkg.com/md-editor-rt@latest/lib/umd/index.js\"><\/script>\n<script>\n  ReactDOM.createRoot(document.getElementById('root')).render(\n-   React.createElement(MdEditorRT, {\n+    React.createElement(MdEditorRT.MdEditor, {\n      modelValue: 'Hello Editor!!'\n    })\n  );\n<\/script>\n```\n\n#### \uD83C\uDFC4\uD83C\uDFFC‍♀️ ES Module\n\n```diff\n- import MdEditor from 'md-editor-rt';\n- const NormalToolbar = MdEditor.NormalToolbar;\n- const DropdownToolbar = MdEditor.DropdownToolbar;\n- const ModalToolbar = MdEditor.ModalToolbar;\n- const MdCatalog = MdEditor.MdCatalog;\n+ import { MdEditor, NormalToolbar, DropdownToolbar, ModalToolbar, MdCatalog } from 'md-editor-rt';\nimport 'md-editor-rt/lib/style.css';\n```\n\n### \uD83D\uDD16 Props\n\n| 名称        | 说明                            |\n| ----------- | ------------------------------- |\n| previewOnly | 已移除，使用组件`MdPreview`替换 |\n\n### \uD83E\uDEA4 内部组件\n\n新增`MdPreview`组件，替换原编辑器的`previewOnly`属性，可以减少代码体积。\n\n```diff\nimport React, { useState } from 'react';\n- import MdEditor from 'md-editor-rt';\n+ import { MdPreview } from 'md-editor-rt';\n- import 'md-editor-rt/lib/style.css';\n+ import 'md-editor-rt/lib/preview.css';\n\nexport default () => {\n  const [text] = useState('hello md-editor-rt！');\n- return <MdEditor modelValue={text} previewOnly />;\n+ return <MdPreview modelValue={text} />;\n};\n```\n\n---\n\n## \uD83E\uDDD9\uD83C\uDFFB‍♂️ 从 2.x 升级到 3.x\n\n下面列举的是`3.x`不兼容`2.x`的内容，兼容内容不作展示。\n\n### \uD83E\uDD39\uD83C\uDFFC‍♂️ 语法\n\n- 删除线\n\n  ```diff\n  - ~It is a dream deeply rooted in the American dream.~\n  + ~~It is a dream deeply rooted in the American dream.~~\n  ```\n\n### \uD83D\uDD29 Props\n\n| 名称            | 说明                |\n| --------------- | ------------------- |\n| markedHeadingId | 修改为`mdHeadingId` |\n| historyLength   | 已移除              |\n\n### \uD83E\uDD3F 配置项\n\n```diff\nMdEditor.config({\n-  markedRenderer: (renderer) => renderer,\n-  markedExtensions: [],\n-  markedOptions,\n+  codeMirrorExtensions: (theme, extensions) => extensions,\n+  markdownItConfig: (mdit) { }\n})\n```\n\n### \uD83C\uDFA4 快捷键\n\n| 键位     | 功能     | 说明   |\n| -------- | -------- | ------ |\n| CTRL + Q | 添加引用 | 已移除 |\n\n### \uD83E\uDEA4 内部组件\n\n#### \uD83D\uDC3B 目录导航\n\n- **props**\n  - **markedHeadingId**: 已删除，使用`mdHeadingId`代替。\n\n---\n\n## 从 1.x 升级到 2.x\n\n下面列举的是`2.x`不兼容`1.x`的内容，兼容内容不作展示。\n\n### Props\n\n| 名称                | 说明                              |\n| ------------------- | --------------------------------- |\n| editorClass         | 修改为`className`                 |\n| hljs                | 已移除，使用`MdEditor.config`配置 |\n| highlightJs         | 同上                              |\n| highlightCss        | 同上                              |\n| languageUserDefined | 同上                              |\n| prettier            | 修改为`noPrettier`，默认`false`   |\n| prettierCDN         | 已移除，使用`MdEditor.config`配置 |\n| prettierMDCDN       | 同上                              |\n| cropperCss          | 同上                              |\n| cropperJs           | 同上                              |\n| iconfontJs          | 同上                              |\n| screenfull          | 同上                              |\n| screenfullJs        | 同上                              |\n| mermaid             | 同上                              |\n| mermaidJs           | 同上                              |\n| katex               | 同上                              |\n| katexJs             | 同上                              |\n| katexCss            | 同上                              |\n| extensions          | 同上                              |\n"})]})}},5017:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/zh-CN/contrast",function(){return t(3678)}])},8419:(n,e,t)=>{"use strict";t.d(e,{A:()=>p});var r=t(7876),o=t(8854),i=t(1120),d=t(6510),s=t(9385),a=t(1281),m=t(4232);let c=(n,e)=>{history.replaceState({},"","".concat(location.pathname,"#").concat(e.text))},l=n=>{let e=(0,d.G)(n=>n.setting),t=(0,m.useRef)(null),o=(0,m.useRef)(!0),i=(0,m.useCallback)((n,e)=>{if(!e||!o.current)return;let r=(0,s.Uw)(),i=e.offsetTop-t.current.scrollTop;i>200?r(t.current,e.offsetTop-200):i<100&&r(t.current,e.offsetTop-100)},[]);return(0,r.jsx)("div",{className:"catalog",onMouseEnter:()=>{o.current=!1},onMouseLeave:()=>{o.current=!0},children:(0,r.jsx)("div",{ref:t,className:"affix",children:(0,r.jsx)(a.M,{scrollElementOffsetTop:10,editorId:n.editorId,theme:e.theme,scrollElement:"html",onClick:c,onActive:i})})})},p=n=>{let{showCodeRowNumber:e=!0}=n,t=(0,i.u)(),s=(0,d.G)(n=>n.setting);return(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"doc",children:[(0,r.jsx)("div",{className:"content",children:(0,r.jsx)(o.A,{id:n.editorId,language:t,theme:s.theme,value:n.value,previewTheme:s.previewTheme,showCodeRowNumber:e,codeTheme:s.codeTheme})}),(0,r.jsx)(l,{editorId:n.editorId})]})})}}},n=>{n.O(0,[6791,636,6593,8792],()=>n(n.s=5017)),_N_E=n.O()}]);